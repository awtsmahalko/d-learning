"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[685],{5685:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});const s={name:"teacher-modal-create",props:["UserId","ModalType","TeacherData"],data:function(){return{modalLabel:"",formTeacher:{id:"",student_id:"",email:"",fname:"",mname:"",lname:""}}},created:function(){this.modalLabel="C"==this.ModalType?"Create New Teacher":"Update Teacher Data","U"==this.ModalType&&(this.formTeacher.student_id=this.TeacherData.student_id,this.formTeacher.email=this.TeacherData.email,this.formTeacher.fname=this.TeacherData.fname,this.formTeacher.mname=this.TeacherData.mname,this.formTeacher.lname=this.TeacherData.lname,this.formTeacher.id=this.TeacherData.id)},methods:{createTeacher:function(){var e=this;axios.post(baseUrl+"/api/teacher/add/record",this.formTeacher).then((function(t){$("#teacherCreateModal").modal("hide"),1==t.data?success_add():"id"==t.data||"email"==t.data?entry_already_exists():console.log(t.data),e.$root.$emit("fetchTeacherRecordEvent")})).catch((function(e){console.log(e)}))},updateTeacher:function(){var e=this;axios.post(baseUrl+"/api/teacher/update/record",this.formTeacher).then((function(t){$("#teacherCreateModal").modal("hide"),1==t.data?success_update():"id"==t.data||"email"==t.data?entry_already_exists():console.log(t.data),e.$root.$emit("fetchTeacherRecordEvent")})).catch((function(e){console.log(e)}))}}};var r=a(1900);const i={components:{teacherModalCreate:(0,r.Z)(s,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"modal fade",attrs:{id:"teacherCreateModal",role:"dialog","aria-labelledby":"teacherCreateModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"teacherCreateModalLabel"}},[e._v(" "+e._s(e.modalLabel))]),e._v(" "),e._m(0)]),e._v(" "),a("form",{on:{submit:function(t){t.preventDefault(),"U"==e.ModalType?e.updateTeacher():e.createTeacher()}}},[a("div",{staticClass:"modal-body"},[a("div",{staticClass:"form-group bmd-form-group"},[a("div",{staticClass:"col-md-12 row"},[a("div",{staticClass:"col-md-6"},[a("label",[e._v("Teacher ID")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formTeacher.student_id,expression:"formTeacher.student_id"}],staticClass:"form-control",staticStyle:{width:"100%"},attrs:{type:"text",required:""},domProps:{value:e.formTeacher.student_id},on:{input:function(t){t.target.composing||e.$set(e.formTeacher,"student_id",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"col-md-6"},[a("label",[e._v("Email")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formTeacher.email,expression:"formTeacher.email"}],staticClass:"form-control",staticStyle:{width:"100%"},attrs:{type:"email",required:""},domProps:{value:e.formTeacher.email},on:{input:function(t){t.target.composing||e.$set(e.formTeacher,"email",t.target.value)}}})])])]),e._v(" "),a("div",{staticClass:"form-group bmd-form-group"},[a("div",{staticClass:"col-md-12 row"},[a("div",{staticClass:"col-md-4"},[a("label",[e._v("First Name")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formTeacher.fname,expression:"formTeacher.fname"}],staticClass:"form-control",staticStyle:{width:"100%"},attrs:{type:"text",required:""},domProps:{value:e.formTeacher.fname},on:{input:function(t){t.target.composing||e.$set(e.formTeacher,"fname",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"col-md-4"},[a("label",[e._v("Middle Name")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formTeacher.mname,expression:"formTeacher.mname"}],staticClass:"form-control",staticStyle:{width:"100%"},attrs:{type:"text"},domProps:{value:e.formTeacher.mname},on:{input:function(t){t.target.composing||e.$set(e.formTeacher,"mname",t.target.value)}}})]),e._v(" "),a("div",{staticClass:"col-md-4"},[a("label",[e._v("Last Name")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formTeacher.lname,expression:"formTeacher.lname"}],staticClass:"form-control",staticStyle:{width:"100%"},attrs:{type:"text",required:""},domProps:{value:e.formTeacher.lname},on:{input:function(t){t.target.composing||e.$set(e.formTeacher,"lname",t.target.value)}}})])])])]),e._v(" "),a("div",{staticClass:"modal-footer"},[a("button",{ref:"Close",staticClass:"btn btn-sm btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[e._v(" Close ")]),e._v(" "),a("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"submit",id:"btn-submit-student"}},[e._v(" Save changes ")])])])])])])}),[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("Ã—")])])}],!1,null,null,null).exports},name:"teacher-index",data:function(){return{listTeacher:[],UserId:"",modalType:"",userKey:0,teacherData:[]}},created:function(){this.fetchTeacher(),this.userKey},methods:{showCreateModal:function(){this.userKey++,this.modalType="C",this.teacherData=[],setTimeout(function(){$("#teacherCreateModal").modal("show")}.bind(this),500)},fetchTeacher:function(){var e=this;axios.get(baseUrl+"/api/teacher/view/record").then((function(t){e.listTeacher=t.data})).catch((function(e){console.log(e)}))},showUpdateModal:function(e){this.userKey++,this.modalType="U",this.teacherData=e,setTimeout(function(){$("#teacherCreateModal").modal("show")}.bind(this),500)},deleteData:function(e){var t=this;swal({title:"Are you sure?",text:"You won't be able to revert this!",type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!",showLoaderOnConfirm:!0,preConfirm:function(){return new Promise((function(a){axios.delete(baseUrl+"/api/user/delete/record",{params:{id:e}}).then((function(e){t.fetchTeacher(),1==e.data?success_delete():entry_already_exists()})).catch((function(e){console.log(e)}))}))},allowOutsideClick:!1})}},mounted:function(){var e=this;this.$root.$on("fetchTeacherRecordEvent",(function(){e.fetchTeacher()}))}};const o=(0,r.Z)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[a("div",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"card"},[e._m(0),e._v(" "),a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12 text-right"},[a("button",{staticClass:"btn btn-sm btn-primary",on:{click:e.showCreateModal}},[a("span",{staticClass:"material-icons"},[e._v("add_circle")]),e._v(" New Teacher\n                                ")])]),e._v(" "),a("div",{staticClass:"table-responsive"},[a("table",{staticClass:"table"},[e._m(1),e._v(" "),e.listTeacher.length>0?a("tbody",e._l(e.listTeacher,(function(t,s){return a("tr",{key:s},[a("td",[e._v(e._s(s+1))]),e._v(" "),a("td",[e._v(e._s(t.student_id))]),e._v(" "),a("td",[e._v(e._s(t.fname+" "+t.mname+" "+t.lname))]),e._v(" "),a("td",[e._v(e._s(t.username))]),e._v(" "),a("td",[e._v(e._s(t.email))]),e._v(" "),a("td",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-sm btn-warning",on:{click:function(a){return e.showUpdateModal(t)}}},[a("span",{staticClass:"material-icons"},[e._v("edit_note")])]),e._v(" "),a("button",{staticClass:"btn btn-sm btn-danger",on:{click:function(a){return e.deleteData(t.id)}}},[a("span",{staticClass:"material-icons"},[e._v("delete_forever")])])])])})),0):e._e()])])])])])])])]),e._v(" "),a("teacher-modal-create",{key:e.userKey,attrs:{UserId:e.UserId,ModalType:e.modalType,TeacherData:e.teacherData}})],1)}),[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"card-header card-header-primary"},[a("h4",{staticClass:"card-title"},[e._v("Teacher")]),e._v(" "),a("p",{staticClass:"card-category"},[e._v("Master Data of all Teacher")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("thead",{staticClass:"text-primary"},[a("tr",[a("th",[e._v("#")]),e._v(" "),a("th",[e._v("ID")]),e._v(" "),a("th",[e._v("Teacher")]),e._v(" "),a("th",[e._v("Username")]),e._v(" "),a("th",[e._v("Email")]),e._v(" "),a("th",{staticClass:"text-right"},[e._v("Actions")])])])}],!1,null,null,null).exports}}]);